<!--pages/personal/personal.wxml-->
<view class="container">
  <!-- 用户信息区域 -->
  <view class="user-info-section">
    <view class="user-avatar">
      <image src="{{userInfo.avatar}}" class="avatar-image" mode="aspectFill"></image>
    </view>
    <view class="user-details">
      <view class="user-name">{{userInfo.name}}</view>
      <view class="user-phone">{{userInfo.phone}}</view>
      <view class="user-member-level" style="color: {{themeColor}}">
        {{userInfo.memberLevel}} ({{userInfo.points}}积分)
      </view>
    </view>
  </view>

  <!-- 我的赛事 -->
  <view class="my-section card">
    <view class="section-header">
      <view class="section-title">我的赛事</view>
      <view class="section-more" bindtap="onFunctionTap" data-type="match">
        <text>更多</text>
        <text class="iconfont icon-arrow"></text>
      </view>
    </view>
    <view class="section-content">
      <block wx:if="{{myMatches && myMatches.length > 0}}">
        <view class="match-list">
          <view 
            class="match-item" 
            wx:for="{{myMatches}}" 
            wx:key="id" 
            bindtap="onMyMatchTap" 
            data-id="{{item.id}}"
          >
            <view class="match-title">{{item.title}}</view>
            <view class="match-info">
              <view class="match-date">{{item.date}}</view>
              <view class="match-status">{{item.status}}</view>
            </view>
            <view class="match-category">{{item.category}}</view>
          </view>
        </view>
      </block>
      <view class="no-data" wx:else>
        <text>暂无赛事报名</text>
      </view>
    </view>
  </view>

  <!-- 我的俱乐部 -->
  <view class="my-section card">
    <view class="section-header">
      <view class="section-title">我的俱乐部</view>
      <view class="section-more" bindtap="onFunctionTap" data-type="club">
        <text>更多</text>
        <text class="iconfont icon-arrow"></text>
      </view>
    </view>
    <view class="section-content">
      <block wx:if="{{myClub}}">
        <view class="club-info">
          <view class="club-name">{{myClub.name}}</view>
          <view class="club-role">角色：{{myClub.role}}</view>
          <view class="club-join-date">加入时间：{{myClub.joinDate}}</view>
        </view>
      </block>
      <view class="no-data" wx:else>
        <text>暂未加入俱乐部</text>
      </view>
    </view>
  </view>

  <!-- 功能列表 -->
  <view class="function-section card">
    <view class="section-title">功能列表</view>
    <view class="function-list">
      <view class="function-item" bindtap="onFunctionTap" data-type="member">
        <view class="function-icon theme-bg">
          <text class="iconfont icon-member"></text>
        </view>
        <view class="function-text">会员中心</view>
        <view class="function-arrow">
          <text class="iconfont icon-arrow"></text>
        </view>
      </view>
      
      <view class="function-item" bindtap="onFunctionTap" data-type="match">
        <view class="function-icon theme-bg">
          <text class="iconfont icon-match"></text>
        </view>
        <view class="function-text">赛事报名</view>
        <view class="function-arrow">
          <text class="iconfont icon-arrow"></text>
        </view>
      </view>
      
      <view class="function-item" bindtap="onFunctionTap" data-type="club">
        <view class="function-icon theme-bg">
          <text class="iconfont icon-club"></text>
        </view>
        <view class="function-text">俱乐部</view>
        <view class="function-arrow">
          <text class="iconfont icon-arrow"></text>
        </view>
      </view>
      
      <view class="function-item" bindtap="onFunctionTap" data-type="notification">
        <view class="function-icon theme-bg">
          <text class="iconfont icon-notification"></text>
        </view>
        <view class="function-text">官方通知</view>
        <view class="function-arrow">
          <text class="iconfont icon-arrow"></text>
        </view>
      </view>
      
      <view class="function-item" bindtap="onFunctionTap" data-type="setting">
        <view class="function-icon theme-bg">
          <text class="iconfont icon-setting"></text>
        </view>
        <view class="function-text">设置</view>
        <view class="function-arrow">
          <text class="iconfont icon-arrow"></text>
        </view>
      </view>
    </view>
  </view>
</view>